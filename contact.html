<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
    <title>Contact</title>
</head>
<body class="contact-page">


    <!--- NAVBAR -->

<nav class="navbar">
        <div class="navbar-container">
            <div class="navbar-brand">
                <a href="/index.html">
                    <img src="images/logo-transparent-png.png" alt="Steph VTC" class="logo" style="height:120px;width: 200px;">
                </a>
                </div>
            <ul class="navbar-menu">
                <li><a href="/index.html" class="navbar-link">Accueil</a></li>
                 <li><a href="/apropos.html" class="navbar-link">√Ä propos</a></li>
                <li><a href="/services.html" class="navbar-link">Nos services</a></li>
                 <li><a href="/reservation.html" class="navbar-link">R√©servations</a></li>
                <li><a href="/avis.html" class="navbar-link">Avis clients</a></li>
                <li><a href="/contact.html" class="navbar-link">Contact</a></li>
            </ul>
            <div class="navbar-spacer"></div>
            <div class="language-selector">
                <select id="translationBtn" onchange="changeLanguage(this.value)">
                    <option value="pt">üáµüáπ Portugu√™s</option>
                    <option value="fr">üá´üá∑ Fran√ßais</option>
                    <option value="en">üá¨üáß English</option>
                </select>
            </div>
        </div>
    </nav>
    
    <div class="contact-form-container">
        <h1 id="contactPageTitle">Contactez-nous</h1>
        <form id="contactForm" class="contact-form">
            <div class="form-row">
                <div class="form-group">
                    <label for="nom" id="labelNom">Nom :</label>
                    <input type="text" id="nom" name="nom" required>
                </div>
                <div class="form-group">
                    <label for="prenom" id="labelPrenom">Pr√©nom :</label>
                    <input type="text" id="prenom" name="prenom" required>
                </div>
            </div>
            
            <div class="form-group">
                <label for="telephone" id="labelTelephone">Num√©ro de t√©l√©phone :</label>
                <input type="tel" id="telephone" name="telephone" required>
            </div>
            
            <div class="form-group">
                <label for="email" id="labelEmail">Mail :</label>
                <input type="email" id="email" name="email" required>
            </div>
            
            <div class="form-group">
                <label for="objet" id="labelObjet">Objet du message :</label>
                <input type="text" id="objet" name="objet" required>
            </div>
            
            <div class="form-group">
                <label for="message" id="labelMessage">Message :</label>
                <textarea id="message" name="message" rows="9" required></textarea>
            </div>
            
            <button type="submit" class="submit-btn" id="submitBtn">Envoyer le message</button>
        </form>
    </div>


 <!-- Footer -->

    <footer class="footer">
        <div class="footer-container">
            <div class="footer-logo">
                <img src="/images/logo-transparent-png.png" alt="Steph VTC" style="height:120px; width: 200px;">
            </div>
            
            <div class="footer-contact">
                <div class="contact-info">
                    <span>üìû +351 963 215 368</span>
                    <span>‚úâÔ∏è Stephan.uberdriver@gmail.com</span>
                    <span>üìç Lisbonne, Portugal</span>
                </div>
            </div>
            
            <div class="footer-icons">
                <img src="/images/insta.png" alt="insta_icon">
                <img src="/images/FB.webp" alt="fb_icon">
                <img src="/images/icons8-linkedin-94.png" alt="lk_icon">
            </div>
        </div>
        
        <div class="footer-bottom">
            <p>Copyright 2025 Nicolas VTC. Tous droits r√©serv√©s.</p>
        </div>
    </footer>

    <script>
        // Traduction de la page
        let currentLanguage = localStorage.getItem('language') || 'pt';

        async function loadTranslations() {
            try {
                const frResponse = await fetch('/translations/fr.json');
                const enResponse = await fetch('/translations/en.json');
                const ptResponse = await fetch('/translations/pt.json');
                
                const frData = await frResponse.json();
                const enData = await enResponse.json();
                const ptData = await ptResponse.json();
                
                // Sauvegarder les traductions globalement
                window.translations = { fr: frData, en: enData, pt: ptData };
                
                // Appliquer la langue sauvegard√©e
                translatePage(currentLanguage);
                
                // Initialiser le s√©lecteur
                const selectElement = document.getElementById('translationBtn');
                if (selectElement) {
                    selectElement.value = currentLanguage;
                }
            } catch (error) {
                console.error('Erreur lors du chargement des traductions:', error);
            }
        }

        function translatePage(language) {
            if (!window.translations) return;
            
            const lang = window.translations[language];
            const navbarLinks = {
                'Accueil': document.querySelector('a.navbar-link[href="/index.html"]'),
                '√Ä propos': document.querySelector('a.navbar-link[href="/apropos.html"]'),
                'Nos services': document.querySelector('a.navbar-link[href="/services.html"]'),
                'R√©servations': document.querySelector('a.navbar-link[href="/reservation.html"]'),
                'Avis clients': document.querySelector('a.navbar-link[href="/avis.html"]'),
                'Contact': document.querySelector('a.navbar-link[href="/contact.html"]')
            };
            
            // Traduire la navbar
            const navbarTexts = [
                { element: navbarLinks['Accueil'], key: 'home' },
                { element: navbarLinks['√Ä propos'], key: 'about' },
                { element: navbarLinks['Nos services'], key: 'services' },
                { element: navbarLinks['R√©servations'], key: 'bookings' },
                { element: navbarLinks['Avis clients'], key: 'reviews' },
                { element: navbarLinks['Contact'], key: 'contact' }
            ];
            
            navbarTexts.forEach(item => {
                if (item.element) {
                    item.element.textContent = lang.navbar[item.key];
                }
            });
            
            // Traduire le footer
            const footerBottom = document.querySelector('.footer-bottom p');
            if (footerBottom) {
                footerBottom.textContent = lang.footer.copyright;
            }
            
            // Traduire la page contact
            if (lang.contactPage) {
                document.getElementById('contactPageTitle').textContent = lang.contactPage.title;
                document.getElementById('labelNom').textContent = lang.contactPage.labelNom;
                document.getElementById('labelPrenom').textContent = lang.contactPage.labelPrenom;
                document.getElementById('labelTelephone').textContent = lang.contactPage.labelTelephone;
                document.getElementById('labelEmail').textContent = lang.contactPage.labelEmail;
                document.getElementById('labelObjet').textContent = lang.contactPage.labelObjet;
                document.getElementById('labelMessage').textContent = lang.contactPage.labelMessage;
                document.getElementById('submitBtn').textContent = lang.contactPage.submitBtn;
                
                // Sauvegarder les traductions pour les messages d'alerte
                window.submitBtnSending = lang.contactPage.submitBtnSending;
                window.submitBtnSuccess = lang.contactPage.submitBtnSuccess;
                window.alertSuccess = lang.contactPage.alertSuccess;
                window.alertError = lang.contactPage.alertError;
            }

            // Mettre √† jour l'attribut lang du document
            document.documentElement.lang = language;
            
            // Mettre √† jour le s√©lecteur de langue
            const selectElement = document.getElementById('translationBtn');
            if (selectElement) {
                selectElement.value = language;
            }
        }

        function changeLanguage(language) {
            currentLanguage = language;
            localStorage.setItem('language', currentLanguage);
            translatePage(currentLanguage);
        }

        // Charger les traductions au d√©marrage
        document.addEventListener('DOMContentLoaded', loadTranslations);

        // Initialiser EmailJS
        emailjs.init("39i-D86yCK0e1JTQy"); // Votre cl√© publique EmailJS
        
        // G√©rer l'envoi du formulaire
        document.getElementById('contactForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const submitBtn = document.querySelector('.submit-btn');
            const originalText = submitBtn.textContent;
            submitBtn.textContent = window.submitBtnSending || 'Envoi en cours...';
            submitBtn.disabled = true;
            
            // R√©cup√©rer les donn√©es du formulaire
            const nom = document.getElementById('nom').value;
            const prenom = document.getElementById('prenom').value;
            const telephone = document.getElementById('telephone').value;
            const email = document.getElementById('email').value;
            const objet = document.getElementById('objet').value;
            const message = document.getElementById('message').value;
            
            // Formater le message avec les informations de l'utilisateur
            const formattedMessage = `${prenom} ${nom} a envoy√© :\n\n${message}\n\n--- Informations de contact ---\nMail : ${email}\nT√©l√©phone : ${telephone}`;
            
            const formData = {
                nom: nom,
                prenom: prenom,
                telephone: telephone,
                email: email,
                objet: objet,
                message: formattedMessage
            };
            
            // VERSION EMAILJS R√âELLE - ACTIVE
            emailjs.send("service_6fc2p7p", "template_xeuhdsp", formData)
                .then(function(response) {
                    alert(window.alertSuccess || 'Message envoy√© avec succ√®s !');
                    document.getElementById('contactForm').reset();
                    submitBtn.textContent = window.submitBtnSuccess || '‚úÖ Message envoy√© !';
                    setTimeout(() => {
                        submitBtn.textContent = originalText;
                        submitBtn.disabled = false;
                    }, 3000);
                })
                .catch(function(error) {
                    alert(window.alertError || 'Erreur lors de l\'envoi du message. Veuillez r√©essayer.');
                    console.error('Erreur EmailJS:', error);
                    submitBtn.textContent = originalText;
                    submitBtn.disabled = false;
                });
            
            /* VERSION TEST (d√©sactiv√©e) :
            console.log('Donn√©es du formulaire:', formData);
            setTimeout(() => {
                alert('TEST : Message trait√© avec succ√®s !\nDonn√©es envoy√©es : ' + JSON.stringify(formData, null, 2));
                document.getElementById('contactForm').reset();
                submitBtn.textContent = '‚úÖ Message envoy√© !';
                setTimeout(() => {
                    submitBtn.textContent = originalText;
                    submitBtn.disabled = false;
                }, 3000);
            }, 2000);
            */
        });
        
        // JavaScript pour g√©rer l'effet de scroll de la navbar
        window.addEventListener('scroll', function() {
            const navbar = document.querySelector('.navbar');
            
            if (window.scrollY > 50) {
                navbar.classList.add('scrolled');
            } else {
                navbar.classList.remove('scrolled');
            }
        });
    </script>

    <!-- Menu Burger Script -->
    <script src="burger-menu.js"></script>

</body>
</html>